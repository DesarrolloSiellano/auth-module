<p-toast />

<div class="content">
  <app-list-template
    [title]="'Lista de Roles'"
    [showTitle]="true"
    [toAdd]="toAdd"
    [options]="true"
    [cols]="cols"
    [data]="data"
    [lazy]="true"
    [totalRecords]="totalRecords"
    [loading]="loading"
    [filtersGlobal]="filtersGlobal"

    (loadLazy)="load($any($event))"
    (dateQuery)="queryDate($event)"
    (create)="create()"
    (update)="update($event)"
    (delete)="delete($event)"
    (exportPage)="exportAsXLSX()"
    (reload)="rechargeTable()"
    (onRowSelectionChange)="onSelectionChange($any($event))">
  </app-list-template>

  <p-dialog [(visible)]="isDisplayForm" [style]="{width: '70vw'}"
    [header]="titleForm" [draggable]="false" [resizable]="false" [closable]="false" [modal]="true"
    [baseZIndex]="10000">
    @if (updatedFormFields.length > 0) {
    <app-form-template
      [width]="'70rem'"
      [title]="titleForm"
      [isVisible]="isFormVisible"
      [isEdit]="isEditForm"
      [initialData]="initialData"
      [form]="form">
    </app-form-template>
  }
    <ng-template #footer>
        <p-button label="Cancel" [text]="true" severity="secondary" (click)="closeDialog()" />
        <p-button label="Save" [outlined]="true" severity="primary" (click)="save()"  />
    </ng-template>
  </p-dialog>
</div>




